<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">

<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Barefoot.APIAdapter.Server - Barefoot</title><link rel="stylesheet" type="text/css" href="../../../styles/main.css"><script language=JavaScript src="../../../javascript/main.js"></script><script language=JavaScript src="../../../javascript/prettify.js"></script><script language=JavaScript src="../../../javascript/searchdata.js"></script></head><body class="ContentPage" onLoad="NDOnLoad();prettyPrint();"><script language=JavaScript><!--
if (browserType) {document.write("<div class=" + browserType + ">");if (browserVer) {document.write("<div class=" + browserVer + ">"); }}// --></script>

<!--  Generated by Natural Docs, version 1.51 -->
<!--  http://www.naturaldocs.org  -->

<!-- saved from url=(0026)http://www.naturaldocs.org -->




<div id=Content><div class="CMixin"><div class=CTopic id=MainTopic><h1 class=CTitle><a name="Barefoot.APIAdapter.Server"></a>Barefoot.<wbr>APIAdapter.<wbr>Server</h1><div class=CBody><p>The server mixin for the <a href="../apiadapter-js.html#Barefoot.APIAdapter" class=LClass id=link9 onMouseOver="ShowTip(event, 'tt1', 'link9')" onMouseOut="HideTip('tt1')">APIAdapter</a> takes the specified apiRoutes and does two things:</p><ul><li>Create RESTful API routes with Express.JS, callable via HTTP</li><li>Map server-side API calls to the correct local callback</li></ul><p>The creation of the Express.JS routes is done on initalization.&nbsp; The mapping of server-side API calls is executed during runtime.</p><h4 class=CHeading>Function Mapping</h4><p>The following matrix describes which function of <a href="#Barefoot.APIAdapter.Server" class=LMixin id=link10 onMouseOver="ShowTip(event, 'tt7', 'link10')" onMouseOut="HideTip('tt7')">APIAdapter.Server</a> is related to which task:</p><blockquote><pre>                         + REST API + Local API +
+------------------------+----------+-----------+
 processCallbacks        |    X     |     X     |
 createExpressJsCallback |    X     |           |
 createExpressJsRoute    |    X     |           |
 urlRegexp               |          |     X     |
 matchRoute              |          |     X     |
 addRoute                |    X     |     X     |
 createRouteFactories    |    X     |     X     |
 dispatchLocalApiCall    |          |     X     |
 sync                    |          |     X     |
+------------------------+----------+-----------+</pre></blockquote><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBorder><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SMain"><td class=SEntry><a href="#Barefoot.APIAdapter.Server" >Barefoot.<wbr>APIAdapter.<wbr>Server</a></td><td class=SDescription>The server mixin for the <a href="../apiadapter-js.html#Barefoot.APIAdapter" class=LClass id=link1 onMouseOver="ShowTip(event, 'tt1', 'link1')" onMouseOut="HideTip('tt1')">APIAdapter</a> takes the specified apiRoutes and does two things:</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Barefoot.APIAdapter.Server.Functions_and_Private_Functions" >Functions and Private Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#Barefoot.APIAdapter.Server.toString" id=link2 onMouseOver="ShowTip(event, 'tt2', 'link2')" onMouseOut="HideTip('tt2')">toString</a></td><td class=SDescription>String representation of this module.</td></tr><tr class="SPrivateFunction SIndent2"><td class=SEntry><a href="#Barefoot.APIAdapter.Server.processCallbacks" >processCallbacks</a></td><td class=SDescription>This function is used to run a callback function or an array of stacked callback functions which are registered for an API route.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#Barefoot.APIAdapter.Server.createExpressJsCallback" id=link3 onMouseOver="ShowTip(event, 'tt3', 'link3')" onMouseOut="HideTip('tt3')">createExpressJsCallback</a></td><td class=SDescription>Encapsulates given callback function or an array with stacked callback functions and prepares it so it can be registered as an express js route.</td></tr><tr class="SPrivateFunction SIndent2"><td class=SEntry><a href="#Barefoot.APIAdapter.Server.createExpressJsRoute" >createExpressJsRoute</a></td><td class=SDescription>Creates an Express.JS request handlers.</td></tr><tr class="SPrivateFunction SIndent2 SMarked"><td class=SEntry><a href="#Barefoot.APIAdapter.Server.urlRegexp" >urlRegexp</a></td><td class=SDescription>Takes a route URL with possible placeholders like &ldquo;/contacts/:contactid&rdquo; and prepares a RegEx for later pattern matching when trying to resolve a route</td></tr><tr class="SPrivateFunction SIndent2"><td class=SEntry><a href="#Barefoot.APIAdapter.Server.matchRoute" >matchRoute</a></td><td class=SDescription>This function takes an HTTP method and a URL. </td></tr><tr class="SPrivateFunction SIndent2 SMarked"><td class=SEntry><a href="#Barefoot.APIAdapter.Server.addRoute" >addRoute</a></td><td class=SDescription>The functions generated by <a href="#Barefoot.APIAdapter.Server.createRouteFactories" class=LFunction id=link4 onMouseOver="ShowTip(event, 'tt4', 'link4')" onMouseOut="HideTip('tt4')">createRouteFactories</a> use this function to create an actual api route.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#Barefoot.APIAdapter.Server.createRouteFactories" id=link5 onMouseOver="ShowTip(event, 'tt4', 'link5')" onMouseOut="HideTip('tt4')">createRouteFactories</a></td><td class=SDescription>This is called by the constructor of <a href="../apiadapter-js.html#Barefoot.APIAdapter" class=LClass id=link6 onMouseOver="ShowTip(event, 'tt1', 'link6')" onMouseOut="HideTip('tt1')">APIAdapter</a> and is heavily inspired by the fancy Express.JS Application API.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#Barefoot.APIAdapter.Server.dispatchLocalApiCall" id=link7 onMouseOver="ShowTip(event, 'tt5', 'link7')" onMouseOut="HideTip('tt5')">dispatchLocalApiCall</a></td><td class=SDescription>This is the core where server side API callbacks are dispatched. </td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#Barefoot.APIAdapter.Server.sync" id=link8 onMouseOver="ShowTip(event, 'tt6', 'link8')" onMouseOut="HideTip('tt6')">sync</a></td><td class=SDescription>During startup on the server, this function replaces Backbones own sync implementation to shortcut &ldquo;local&rdquo; API calls.</td></tr></table></div></div><!--END_ND_SUMMARY--></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Barefoot.APIAdapter.Server.Functions_and_Private_Functions"></a>Functions and Private Functions</h3></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="Barefoot.APIAdapter.Server.toString"></a>toString</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td class="prettyprint">function toString()</td></tr></table></blockquote><p>String representation of this module.</p></div></div></div>

<div class="CPrivateFunction"><div class=CTopic><h3 class=CTitle><a name="Barefoot.APIAdapter.Server.processCallbacks"></a>processCallbacks</h3><div class=CBody><p>This function is used to run a callback function or an array of stacked callback functions which are registered for an API route.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>(Object) namedRouteParameters</td><td class=CDLDescription>If a route contains named parameters (stuff like &ldquo;:id&rdquo;, &ldquo;:name&rdquo;), this object should contain these values.&nbsp; They are passed as arguments to each callback function.</td></tr><tr><td class=CDLEntry>(Object) data</td><td class=CDLDescription>The data argument contains any larger data amount.&nbsp; Stuff like the body of a POST request in example.</td></tr><tr><td class=CDLEntry>(Object) req</td><td class=CDLDescription>ExpressJS request object is needed for creating scope objects for callback execution</td></tr><tr><td class=CDLEntry>(Object) res</td><td class=CDLDescription>ExpressJS response object is needed for creating the scope object for calling the handler functions.</td></tr><tr><td class=CDLEntry>(Function) successHandler</td><td class=CDLDescription>A function which is injected as the first argument when executing the callback</td></tr><tr><td class=CDLEntry>(Function) errorHandler</td><td class=CDLDescription>A function which is injected as the second argument when executing the callback</td></tr><tr><td class=CDLEntry>(Function)/(Array) callbacks</td><td class=CDLDescription>An API function which should be executed.&nbsp; If you pass an array with functions, each function gets executed as it is stacked upon the array.&nbsp; Calling success will proceed, error will stop execution.&nbsp; Make sure you call one of them or your code will go nuts.</td></tr></table></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="Barefoot.APIAdapter.Server.createExpressJsCallback"></a>createExpressJsCallback</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>function createExpressJsCallback(</td><td class="PParameter  prettyprint " nowrap>successHandler,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>errorHandler,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>callbacks</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Encapsulates given callback function or an array with stacked callback functions and prepares it so it can be registered as an express js route.</p><p>The two functions successHandler and errorHandler are passed to the callback on runtime as the first two arguments.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>(Function) successHandler</td><td class=CDLDescription>A function which is injected as the first argument when executing the callback</td></tr><tr><td class=CDLEntry>(Function) errorHandler</td><td class=CDLDescription>A function which is injected as the second argument when executing the callback</td></tr><tr><td class=CDLEntry>(Function)/(Array) callbacks</td><td class=CDLDescription>An API function which should be executed.&nbsp; If you pass an array with functions, each function gets executed as it is stacked upon the array.</td></tr></table><h4 class=CHeading>Returns</h4><p>(Function) to be registered with express js.</p><h4 class=CHeading>See also</h4><ul><li><a href="#Barefoot.APIAdapter.Server.processCallbacks" class=LPrivateFunction id=link11 onMouseOver="ShowTip(event, 'tt8', 'link11')" onMouseOut="HideTip('tt8')">processCallbacks</a></li></ul></div></div></div>

<div class="CPrivateFunction"><div class=CTopic><h3 class=CTitle><a name="Barefoot.APIAdapter.Server.createExpressJsRoute"></a>createExpressJsRoute</h3><div class=CBody><p>Creates an Express.JS request handlers.</p><p>It takes an object containing route URI&rsquo;s like &ldquo;/contacts&rdquo; or &ldquo;/contacts/:name&rdquo; as key and callback functions as values.&nbsp; Using the passed Express.JS route-creation-function &ldquo;binder&rdquo; (app.post, app.put etc.), an Express.JS route is created.</p><p>Each route callback is wrapped into an Express.JS specific handler function connected to the route URI.&nbsp; Combined with the Express.JS body parser middleware, the first argument of your callback will contain the body of the request.&nbsp; If your route defines any parameters (&ldquo;/contacts/:id&rdquo;), the specific values are passed as function arguments.&nbsp; If the request specifies any query parameters (&ldquo;/contacts?message=test&amp;limit=1&rdquo;), you&rsquo;ll find an object literal containing all these key-value pairs at the end of your callback arguments list.</p><p>Beside the return value of the callback, the wrapper function sends automatically an HTTP OK (200) to the request creator.&nbsp; If the callback throws an error object, that object is inspected for an &ldquo;httpStatusCode&rdquo; property.&nbsp; If present, that status code is delivered to the requestor.&nbsp; If not, an HTTP Internal Server Error (500) is sent.</p><p>For a set of errors with predefined HTTP status codes, see <a href="../errors-js.html#Barefoot.Errors" class=LClass id=link12 onMouseOver="ShowTip(event, 'tt9', 'link12')" onMouseOut="HideTip('tt9')">Barefoot.Errors</a>.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>(Object) url</td><td class=CDLDescription>URL route to bind</td></tr><tr><td class=CDLEntry>(Function)/(Array) callbacks</td><td class=CDLDescription>An API function which should be executed.&nbsp; If you pass an array with functions, each function gets executed as it is stacked upon the array.</td></tr><tr><td class=CDLEntry>(Function) expressJsMethod</td><td class=CDLDescription>A function of Express.JS like app.get etc.</td></tr><tr><td class=CDLEntry>(Object) app</td><td class=CDLDescription>The Express.JS app</td></tr></table><h4 class=CHeading>See also</h4><ul><li><a href="../errors-js.html#Barefoot.Errors" class=LClass id=link13 onMouseOver="ShowTip(event, 'tt9', 'link13')" onMouseOut="HideTip('tt9')">Barefoot.Errors</a></li></ul></div></div></div>

<div class="CPrivateFunction"><div class=CTopic><h3 class=CTitle><a name="Barefoot.APIAdapter.Server.urlRegexp"></a>urlRegexp</h3><div class=CBody><p>Takes a route URL with possible placeholders like &ldquo;/contacts/:contactid&rdquo; and prepares a RegEx for later pattern matching when trying to resolve a route</p><h4 class=CHeading>Thanks to</h4><ul><li><a href="https://github.com/visionmedia/express/blob/master/lib/utils.js#L277" class=LURL target=_top>https://github.com<wbr>/visionmedia<wbr>/express<wbr>/blob<wbr>/master<wbr>/lib<wbr>/utils.js#L277</a></li></ul><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>(String) url</td><td class=CDLDescription>The url pattern to create the regex of</td></tr><tr><td class=CDLEntry>(Array) keys</td><td class=CDLDescription>An array which will contain all identified placeholder names afterwards</td></tr><tr><td class=CDLEntry>(Boolean) sensitive</td><td class=CDLDescription>Create Regex case sensitive?</td></tr><tr><td class=CDLEntry>(Boolean) strict</td><td class=CDLDescription>Create Regex in strict mode?</td></tr></table><h4 class=CHeading>Returns</h4><p>(Regexp)</p></div></div></div>

<div class="CPrivateFunction"><div class=CTopic><h3 class=CTitle><a name="Barefoot.APIAdapter.Server.matchRoute"></a>matchRoute</h3><div class=CBody><p>This function takes an HTTP method and a URL.&nbsp; It tries to match any API route contained in apiRoutes.&nbsp; If a route is found, the routes regex is used to extract any parameters from the url.&nbsp; These parameters are contained in the params argument afterwards.</p><p>The actual matched route gets returned if found.</p><h4 class=CHeading>Thanks to</h4><ul><li><a href="https://github.com/visionmedia/express/blob/master/lib/router/route.js#L50" class=LURL target=_top>https://github.com<wbr>/visionmedia<wbr>/express<wbr>/blob<wbr>/master<wbr>/lib<wbr>/router<wbr>/route.js#L50</a></li></ul><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>(String) method</td><td class=CDLDescription>An HTTP method verb</td></tr><tr><td class=CDLEntry>(String) url</td><td class=CDLDescription>The URL to match a route for</td></tr><tr><td class=CDLEntry>(Object) apiRoutes</td><td class=CDLDescription>An object containing all api routes too look after</td></tr><tr><td class=CDLEntry>(Object) params</td><td class=CDLDescription>An object which will contain all extracted parameters from url, if a route matched.</td></tr></table><h4 class=CHeading>Returns</h4><p>(Object) containing all information about the matched api route.&nbsp; Dont forget that the params argument will contain any extracted parameters from the url!</p></div></div></div>

<div class="CPrivateFunction"><div class=CTopic><h3 class=CTitle><a name="Barefoot.APIAdapter.Server.addRoute"></a>addRoute</h3><div class=CBody><p>The functions generated by <a href="#Barefoot.APIAdapter.Server.createRouteFactories" class=LFunction id=link14 onMouseOver="ShowTip(event, 'tt4', 'link14')" onMouseOut="HideTip('tt4')">createRouteFactories</a> use this function to create an actual api route.</p><p>To accomplish this, this creates a concrete Express.JS route which can be reached via REST HTTP.&nbsp; To make the route callable locally, it gets saved into the apiRoutes variable.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>(String) method</td><td class=CDLDescription>The HTTP method for this route</td></tr><tr><td class=CDLEntry>(String) url</td><td class=CDLDescription>The URL for this route.&nbsp; Gets prepared with &lt;prepareAPIUrl&gt;</td></tr><tr><td class=CDLEntry>(Function)/(Array) callbacks</td><td class=CDLDescription>An API function which should be executed.&nbsp; If you pass an array with functions, each function gets executed as it is stacked upon the array.</td></tr></table></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="Barefoot.APIAdapter.Server.createRouteFactories"></a>createRouteFactories</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td class="prettyprint">function createRouteFactories()</td></tr></table></blockquote><p>This is called by the constructor of <a href="../apiadapter-js.html#Barefoot.APIAdapter" class=LClass id=link15 onMouseOver="ShowTip(event, 'tt1', 'link15')" onMouseOut="HideTip('tt1')">APIAdapter</a> and is heavily inspired by the fancy Express.JS Application API.</p><p>It creates a function for each available HTTP method and makes it available through the <a href="../apiadapter-js.html#Barefoot.APIAdapter" class=LClass id=link16 onMouseOver="ShowTip(event, 'tt1', 'link16')" onMouseOut="HideTip('tt1')">APIAdapter</a> itself.</p><p>These functions then can be used to create an APIAdapter route.</p><h4 class=CHeading>Example</h4><blockquote><pre>apiAdapter.get('/myroute', function myCallback(success) { success(); });
apiAdapter.post('/myroute', function myCallback(success) { success(); });
// any HTTP verb :)</pre></blockquote></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="Barefoot.APIAdapter.Server.dispatchLocalApiCall"></a>dispatchLocalApiCall</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>function dispatchLocalApiCall(</td><td class="PParameter  prettyprint " nowrap>httpMethod,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>url,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>data,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>options</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>This is the core where server side API callbacks are dispatched.&nbsp; It is called by Barefoots <a href="#Barefoot.APIAdapter.Server.sync" class=LFunction id=link17 onMouseOver="ShowTip(event, 'tt6', 'link17')" onMouseOut="HideTip('tt6')">sync</a> replacement.</p><p>It tries to match the given url with a registered route for the given httpMethod.&nbsp; If found, the route callback(s) is/are invoked using <a href="#Barefoot.APIAdapter.Server.processCallbacks" class=LPrivateFunction id=link18 onMouseOver="ShowTip(event, 'tt8', 'link18')" onMouseOut="HideTip('tt8')">processCallbacks</a>.</p><p>If the data argument contains any information, that stuf gets passed to the callback.&nbsp; If the options argument contains a success or error element, these functions are called by the callback in case of success or failure.</p><h4 class=CHeading>Example Call</h4><blockquote><pre>dispatchLocalApiCall('post', '/contacts', { name: foo }, {
    success: function() { console.log('yay!'); }
    , error: function() { console.log('nay :('); }
});</pre></blockquote><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>(String) httpMethod</td><td class=CDLDescription>An HTTP verb.&nbsp; Necessary to match a registered route.</td></tr><tr><td class=CDLEntry>(String) url</td><td class=CDLDescription>The URL of the API callback to dispatch</td></tr><tr><td class=CDLEntry>(Object) data</td><td class=CDLDescription>Optional.&nbsp; Contains information which should be passed to the callback.&nbsp; (Example: Contact information which should be saved.)</td></tr><tr><td class=CDLEntry>(Object) options</td><td class=CDLDescription>Should contain an error and success callback function.</td></tr></table></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="Barefoot.APIAdapter.Server.sync"></a>sync</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>function sync(</td><td class="PParameter  prettyprint " nowrap>method,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>model,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>options</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>During startup on the server, this function replaces Backbones own sync implementation to shortcut &ldquo;local&rdquo; API calls.</p><p>Instead going the detour over an AJAX request, this implementation of sync calls the API callback directly by resolving the models url with the present apiRoutes.</p><p>If method is not equal to read or delete, the return value of the toJSON function of the given model is passed to the API callback.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>(String) method</td><td class=CDLDescription>A method (create, update, patch, delete or read) which will be used to resolve the models url properly.</td></tr><tr><td class=CDLEntry>(Backbone.Model) model</td><td class=CDLDescription>The model which wants to be synced.&nbsp; Can also be an instance of Backbone.Collection.</td></tr><tr><td class=CDLEntry>(Object) options</td><td class=CDLDescription>Should contain at least a success callback.&nbsp; Any api callback result will be delivered as argument of the success function.</td></tr></table></div></div></div>

</div><!--Content-->


<div id=Footer>Generated on May 20th, 2013&nbsp; &middot;&nbsp; <a href="http://www.naturaldocs.org">Generated by Natural Docs</a></div><!--Footer-->


<div id=Menu><div class=MTitle>Barefoot</div><div class=MEntry><div class=MFile><a href="../index-js.html">Barefoot</a></div></div><div class=MEntry><div class=MFile><a href="../apiadapter-js.html">APIAdapter</a></div></div><div class=MEntry><div class=MFile><a href="../cookieadapter-js.html">CookieAdapter</a></div></div><div class=MEntry><div class=MFile><a href="../collection-js.html">Collection</a></div></div><div class=MEntry><div class=MFile><a href="../datastore-js.html">DataStore</a></div></div><div class=MEntry><div class=MFile><a href="../errors-js.html">Errors</a></div></div><div class=MEntry><div class=MFile><a href="../model-js.html">Model</a></div></div><div class=MEntry><div class=MFile><a href="../router-js.html">Router</a></div></div><div class=MEntry><div class=MFile><a href="../util-js.html">Util</a></div></div><div class=MEntry><div class=MFile><a href="../view-js.html">View</a></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent1')">Client Mixins</a><div class=MGroupContent id=MGroupContent1><div class=MEntry><div class=MFile><a href="../client/cookieadapter-mixin-js.html">CookieAdapter</a></div></div><div class=MEntry><div class=MFile><a href="../client/datastore-mixin-js.html">DataStore</a></div></div><div class=MEntry><div class=MFile><a href="../client/router-mixin-js.html">Router</a></div></div><div class=MEntry><div class=MFile><a href="../client/start-js.html">Start</a></div></div><div class=MEntry><div class=MFile><a href="../client/view-mixin-js.html">View</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent2')">Server Mixins</a><div class=MGroupContent id=MGroupContent2><div class=MEntry><div class=MFile id=MSelected>APIAdapter</div></div><div class=MEntry><div class=MFile><a href="cookieadapter-mixin-js.html">CookieAdapter</a></div></div><div class=MEntry><div class=MFile><a href="datastore-mixin-js.html">DataStore</a></div></div><div class=MEntry><div class=MFile><a href="router-mixin-js.html">Router</a></div></div><div class=MEntry><div class=MFile><a href="start-js.html">Start</a></div></div><div class=MEntry><div class=MFile><a href="view-mixin-js.html">View</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent3')">Index</a><div class=MGroupContent id=MGroupContent3><div class=MEntry><div class=MIndex><a href="../../../index/General.html">Everything</a></div></div><div class=MEntry><div class=MIndex><a href="../../../index/Classes.html">Classes</a></div></div><div class=MEntry><div class=MIndex><a href="../../../index/Errors.html">Errors</a></div></div><div class=MEntry><div class=MIndex><a href="../../../index/Functions.html">Functions</a></div></div><div class=MEntry><div class=MIndex><a href="../../../index/Mixins.html">Mixins</a></div></div><div class=MEntry><div class=MIndex><a href="../../../index/PrivateFunctions.html">Private Functions</a></div></div></div></div></div><script type="text/javascript"><!--
var searchPanel = new SearchPanel("searchPanel", "HTML", "../../../search");
--></script><div id=MSearchPanel class=MSearchPanelInactive><input type=text id=MSearchField value=Search onFocus="searchPanel.OnSearchFieldFocus(true)" onBlur="searchPanel.OnSearchFieldFocus(false)" onKeyUp="searchPanel.OnSearchFieldChange()"><select id=MSearchType onFocus="searchPanel.OnSearchTypeFocus(true)" onBlur="searchPanel.OnSearchTypeFocus(false)" onChange="searchPanel.OnSearchTypeChange()"><option  id=MSearchEverything selected value="General">Everything</option><option value="Classes">Classes</option><option value="Errors">Errors</option><option value="Functions">Functions</option><option value="Mixins">Mixins</option><option value="PrivateFunctions">Private Functions</option></select></div><script language=JavaScript><!--
HideAllBut([2, 3], 4);// --></script></div><!--Menu-->



<!--START_ND_TOOLTIPS-->
<div class=CToolTip id="tt1"><div class=CClass>When building a fancy JavaScript based client you&rsquo;ll probably have a straight forward REST API in the backend. </div></div><div class=CToolTip id="tt2"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td class="prettyprint">function toString()</td></tr></table></blockquote>String representation of this module.</div></div><div class=CToolTip id="tt3"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>function createExpressJsCallback(</td><td class="PParameter  prettyprint " nowrap>successHandler,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>errorHandler,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>callbacks</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Encapsulates given callback function or an array with stacked callback functions and prepares it so it can be registered as an express js route.</div></div><div class=CToolTip id="tt4"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td class="prettyprint">function createRouteFactories()</td></tr></table></blockquote>This is called by the constructor of APIAdapter and is heavily inspired by the fancy Express.JS Application API.</div></div><div class=CToolTip id="tt5"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>function dispatchLocalApiCall(</td><td class="PParameter  prettyprint " nowrap>httpMethod,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>url,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>data,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>options</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>This is the core where server side API callbacks are dispatched. </div></div><div class=CToolTip id="tt6"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>function sync(</td><td class="PParameter  prettyprint " nowrap>method,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>model,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>options</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>During startup on the server, this function replaces Backbones own sync implementation to shortcut &ldquo;local&rdquo; API calls.</div></div><div class=CToolTip id="tt7"><div class=CMixin>The server mixin for the APIAdapter takes the specified apiRoutes and does two things:</div></div><div class=CToolTip id="tt8"><div class=CPrivateFunction>This function is used to run a callback function or an array of stacked callback functions which are registered for an API route.</div></div><div class=CToolTip id="tt9"><div class=CClass>This class contains a set of predefined error objects which are thought to be used in your API route callbacks. </div></div><!--END_ND_TOOLTIPS-->




<div id=MSearchResultsWindow><iframe src="" frameborder=0 name=MSearchResults id=MSearchResults></iframe><a href="javascript:searchPanel.CloseResultsWindow()" id=MSearchResultsWindowClose>Close</a></div>


<script language=JavaScript><!--
if (browserType) {if (browserVer) {document.write("</div>"); }document.write("</div>");}// --></script></body></html>